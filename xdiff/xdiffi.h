begin_unit
begin_comment
comment|/*  *  LibXDiff by Davide Libenzi ( File Differential Library )  *  Copyright (C) 2003  Davide Libenzi  *  *  This library is free software; you can redistribute it and/or  *  modify it under the terms of the GNU Lesser General Public  *  License as published by the Free Software Foundation; either  *  version 2.1 of the License, or (at your option) any later version.  *  *  This library is distributed in the hope that it will be useful,  *  but WITHOUT ANY WARRANTY; without even the implied warranty of  *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU  *  Lesser General Public License for more details.  *  *  You should have received a copy of the GNU Lesser General Public  *  License along with this library; if not, write to the Free Software  *  Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA  *  *  Davide Libenzi<davidel@xmailserver.org>  *  */
end_comment
begin_if
if|#
directive|if
operator|!
name|defined
argument_list|(
name|XDIFFI_H
argument_list|)
end_if
begin_define
DECL|macro|XDIFFI_H
define|#
directive|define
name|XDIFFI_H
end_define
begin_typedef
DECL|struct|s_diffdata
typedef|typedef
struct|struct
name|s_diffdata
block|{
DECL|member|nrec
name|long
name|nrec
decl_stmt|;
DECL|member|ha
name|unsigned
name|long
specifier|const
modifier|*
name|ha
decl_stmt|;
DECL|member|rindex
name|long
modifier|*
name|rindex
decl_stmt|;
DECL|member|rchg
name|char
modifier|*
name|rchg
decl_stmt|;
block|}
DECL|typedef|diffdata_t
name|diffdata_t
typedef|;
end_typedef
begin_typedef
DECL|struct|s_xdalgoenv
typedef|typedef
struct|struct
name|s_xdalgoenv
block|{
DECL|member|mxcost
name|long
name|mxcost
decl_stmt|;
DECL|member|snake_cnt
name|long
name|snake_cnt
decl_stmt|;
DECL|member|heur_min
name|long
name|heur_min
decl_stmt|;
block|}
DECL|typedef|xdalgoenv_t
name|xdalgoenv_t
typedef|;
end_typedef
begin_typedef
DECL|struct|s_xdchange
typedef|typedef
struct|struct
name|s_xdchange
block|{
DECL|member|next
name|struct
name|s_xdchange
modifier|*
name|next
decl_stmt|;
DECL|member|i1
DECL|member|i2
name|long
name|i1
decl_stmt|,
name|i2
decl_stmt|;
DECL|member|chg1
DECL|member|chg2
name|long
name|chg1
decl_stmt|,
name|chg2
decl_stmt|;
block|}
DECL|typedef|xdchange_t
name|xdchange_t
typedef|;
end_typedef
begin_function_decl
name|int
name|xdl_recs_cmp
parameter_list|(
name|diffdata_t
modifier|*
name|dd1
parameter_list|,
name|long
name|off1
parameter_list|,
name|long
name|lim1
parameter_list|,
name|diffdata_t
modifier|*
name|dd2
parameter_list|,
name|long
name|off2
parameter_list|,
name|long
name|lim2
parameter_list|,
name|long
modifier|*
name|kvdf
parameter_list|,
name|long
modifier|*
name|kvdb
parameter_list|,
name|int
name|need_min
parameter_list|,
name|xdalgoenv_t
modifier|*
name|xenv
parameter_list|)
function_decl|;
end_function_decl
begin_function_decl
name|int
name|xdl_do_diff
parameter_list|(
name|mmfile_t
modifier|*
name|mf1
parameter_list|,
name|mmfile_t
modifier|*
name|mf2
parameter_list|,
name|xpparam_t
specifier|const
modifier|*
name|xpp
parameter_list|,
name|xdfenv_t
modifier|*
name|xe
parameter_list|)
function_decl|;
end_function_decl
begin_function_decl
name|int
name|xdl_change_compact
parameter_list|(
name|xdfile_t
modifier|*
name|xdf
parameter_list|,
name|xdfile_t
modifier|*
name|xdfo
parameter_list|,
name|long
name|flags
parameter_list|)
function_decl|;
end_function_decl
begin_function_decl
name|int
name|xdl_build_script
parameter_list|(
name|xdfenv_t
modifier|*
name|xe
parameter_list|,
name|xdchange_t
modifier|*
modifier|*
name|xscr
parameter_list|)
function_decl|;
end_function_decl
begin_function_decl
name|void
name|xdl_free_script
parameter_list|(
name|xdchange_t
modifier|*
name|xscr
parameter_list|)
function_decl|;
end_function_decl
begin_function_decl
name|int
name|xdl_emit_diff
parameter_list|(
name|xdfenv_t
modifier|*
name|xe
parameter_list|,
name|xdchange_t
modifier|*
name|xscr
parameter_list|,
name|xdemitcb_t
modifier|*
name|ecb
parameter_list|,
name|xdemitconf_t
specifier|const
modifier|*
name|xecfg
parameter_list|)
function_decl|;
end_function_decl
begin_function_decl
name|int
name|xdl_do_patience_diff
parameter_list|(
name|mmfile_t
modifier|*
name|mf1
parameter_list|,
name|mmfile_t
modifier|*
name|mf2
parameter_list|,
name|xpparam_t
specifier|const
modifier|*
name|xpp
parameter_list|,
name|xdfenv_t
modifier|*
name|env
parameter_list|)
function_decl|;
end_function_decl
begin_function_decl
name|int
name|xdl_do_histogram_diff
parameter_list|(
name|mmfile_t
modifier|*
name|mf1
parameter_list|,
name|mmfile_t
modifier|*
name|mf2
parameter_list|,
name|xpparam_t
specifier|const
modifier|*
name|xpp
parameter_list|,
name|xdfenv_t
modifier|*
name|env
parameter_list|)
function_decl|;
end_function_decl
begin_endif
endif|#
directive|endif
end_endif
begin_comment
comment|/* #if !defined(XDIFFI_H) */
end_comment
end_unit
